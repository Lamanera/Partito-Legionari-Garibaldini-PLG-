<!DOCTYPE html><html lang="it"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>P.L.G. - Partito Legionari Garibaldini</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;background:#000;color:#fff;line-height:1.6}:root{--verde:#009246;--bianco:#fff;--rosso:#ce2b37;--oro:#d4af37}.container{max-width:1200px;margin:0 auto;padding:20px}.btn{padding:12px 24px;border:2px solid #000;cursor:pointer;font-size:16px;font-weight:700;text-shadow:1px 1px 2px #000;transition:.3s;border-radius:5px}.btn-verde{background:var(--verde);color:#fff}.btn-bianco{background:var(--bianco);color:#000}.btn-rosso{background:var(--rosso);color:#fff}.btn:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(255,255,255,.5)}input,textarea{width:100%;padding:12px;margin:10px 0;border:2px solid var(--oro);background:#222;color:#fff;font-size:16px;border-radius:5px}input:focus,textarea:focus{outline:none;border-color:var(--verde);box-shadow:0 0 10px var(--verde)}.logo{width:200px;height:200px;margin:20px auto;display:block;border:5px solid var(--oro);border-radius:50%}.hidden{display:none!important}.header{background:linear-gradient(90deg,var(--verde) 33%,var(--bianco) 33%,var(--bianco) 66%,var(--rosso) 66%);padding:30px;text-align:center;border:3px solid #000;margin-bottom:20px}.header h1{color:#000;text-shadow:2px 2px 4px rgba(255,255,255,.8),0 0 10px #fff;font-size:2.5em;letter-spacing:3px}.nav{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:20px 0}.nav button{flex:1;min-width:120px}.section{background:#1a1a1a;padding:30px;margin:20px 0;border:3px solid var(--oro);border-radius:10px;box-shadow:0 0 20px rgba(212,175,55,.3)}.admin-panel{background:#2a2a2a;padding:20px;border:2px solid var(--rosso);margin:10px 0}.chat-container{height:400px;overflow-y:auto;background:#0a0a0a;padding:15px;border:2px solid var(--verde);margin:10px 0;border-radius:5px}.chat-msg{padding:10px;margin:5px 0;background:#222;border-left:4px solid var(--verde);border-radius:3px}.chat-msg.admin{border-left-color:var(--rosso)}.gallery-item{background:#222;padding:15px;margin:15px 0;border:2px solid var(--bianco);border-radius:8px}.gallery-item img,.gallery-item video{max-width:100%;height:auto;border:2px solid #000;margin:10px 0}.contact-item{background:#2a2a2a;padding:15px;margin:10px 0;border-left:4px solid var(--verde);display:flex;justify-content:space-between;align-items:center}.radio-player{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(90deg,var(--verde) 33%,var(--bianco) 33%,var(--bianco) 66%,var(--rosso) 66%);padding:15px;border-top:3px solid #000;text-align:center;z-index:1000}.radio-player audio{width:80%;max-width:600px}#map{height:400px;width:100%;border:3px solid var(--oro);margin:20px 0;border-radius:5px;z-index:1}.notification{position:fixed;top:20px;right:20px;background:var(--verde);color:#fff;padding:20px;border:3px solid #000;border-radius:8px;box-shadow:0 0 20px rgba(0,146,70,.7);z-index:2000;animation:slideIn .5s}.signature{font-style:italic;color:var(--oro);margin-top:10px;border-top:2px solid var(--oro);padding-top:10px}@keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}@media(max-width:768px){.header h1{font-size:1.8em}.nav button{min-width:100px;font-size:14px}.container{padding:10px}}@media(prefers-contrast:high){body{background:#fff;color:#000}.section{background:#f0f0f0;color:#000}}[role=button]{cursor:pointer}[aria-hidden=true]{display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}</style></head><body><div id="loginScreen"><div class="container"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='100' r='95' fill='%23d4af37'/%3E%3Ccircle cx='100' cy='100' r='85' fill='%23000'/%3E%3Ctext x='100' y='80' font-size='50' fill='%23009246' text-anchor='middle' font-weight='bold'%3EP.L.%3C/text%3E%3Ctext x='100' y='130' font-size='50' fill='%23ce2b37' text-anchor='middle' font-weight='bold'%3EG.%3C/text%3E%3C/svg%3E" class="logo" alt="Logo P.L.G."><div class="header"><h1>PARTITO LEGIONARI GARIBALDINI</h1></div><div class="section"><h2 style="text-align:center;color:var(--verde)">Accesso / Registrazione</h2><input type="text" id="loginUsername" placeholder="Nome utente" aria-label="Nome utente"><input type="password" id="loginPassword" placeholder="Password" aria-label="Password"><div style="text-align:center;margin-top:20px"><button class="btn btn-verde" onclick="login()" aria-label="Accedi">Accedi</button> <button class="btn btn-bianco" onclick="register()" aria-label="Registrati">Registrati</button></div></div></div></div><div id="mainApp" class="hidden"><div class="container"><div class="header"><h1>PARTITO LEGIONARI GARIBALDINI</h1><p style="color:#000;font-weight:bold">Benvenuto, <span id="currentUser"></span></p><button class="btn btn-rosso" onclick="logout()" style="margin-top:10px">Esci</button></div><div class="nav"><button class="btn btn-verde" onclick="showSection('home')">Home</button><button class="btn btn-bianco" onclick="showSection('blog')">Blog</button><button class="btn btn-rosso" onclick="showSection('statuto')">Statuto</button><button class="btn btn-verde" onclick="showSection('chisiamo')">Chi Siamo</button><button class="btn btn-bianco" onclick="showSection('contatti')">Contatti</button><button class="btn btn-rosso" onclick="showSection('sostienici')">Sostienici</button><button class="btn btn-verde" onclick="showSection('galleria')">Galleria</button><button class="btn btn-bianco" onclick="showSection('chat')">Chat</button><button class="btn btn-rosso" id="adminBtn" class="hidden" onclick="showSection('admin')">Admin</button></div><div id="home" class="section"><h2 style="color:var(--verde);text-align:center">PARTITO LEGIONARI GARIBALDINI</h2><div id="homeContent"><p style="text-align:center;margin:20px 0">Benvenuti nel Partito Legionari Garibaldini. Uniti per la causa, forti nei valori.</p></div><div id="map"></div></div><div id="blog" class="section hidden"><h2 style="color:var(--verde)">Blog</h2><div id="blogContent"><p>Nessun post ancora disponibile.</p></div></div><div id="statuto" class="section hidden"><h2 style="color:var(--verde)">Statuto</h2><div id="statutoContent"><p>Lo statuto sarÃ  pubblicato a breve.</p></div></div><div id="chisiamo" class="section hidden"><h2 style="color:var(--verde)">Chi Siamo</h2><div id="chisiamoContent"><p>Informazioni in arrivo.</p></div></div><div id="contatti" class="section hidden"><h2 style="color:var(--verde)">Contatti</h2><div id="contattiContent"></div></div><div id="sostienici" class="section hidden"><h2 style="color:var(--verde)">Sostienici</h2><div style="text-align:center;padding:40px"><h3>Dona per la Causa</h3><p style="margin:20px 0">Il tuo supporto Ã¨ fondamentale per portare avanti i nostri ideali.</p><p style="margin:20px 0;font-size:1.2em">Da 10 centesimi a quanto vuoi</p><a href="https://www.paypal.com/ncp/payment/6B6TDSCQEJRY8" target="_blank"><button class="btn btn-verde" style="font-size:1.3em;padding:20px 40px">ðŸ’š Dona con PayPal ðŸ’š</button></a></div></div><div id="galleria" class="section hidden"><h2 style="color:var(--verde)">Galleria</h2><div id="galleriaContent"></div></div><div id="chat" class="section hidden"><h2 style="color:var(--verde)">Chat del Partito</h2><div class="chat-container" id="chatMessages"></div><input type="text" id="chatInput" placeholder="Scrivi un messaggio..." aria-label="Messaggio chat"><button class="btn btn-verde" onclick="sendMessage()" style="margin-top:10px">Invia</button></div><div id="admin" class="section hidden"><h2 style="color:var(--rosso)">Pannello Amministratore</h2><div class="admin-panel"><h3>Cambia Credenziali Admin</h3><input type="text" id="newAdminUser" placeholder="Nuovo username admin" aria-label="Nuovo username admin"><input type="password" id="newAdminPass" placeholder="Nuova password admin" aria-label="Nuova password admin"><button class="btn btn-rosso" onclick="changeAdminCreds()">Aggiorna Credenziali</button></div><div class="admin-panel"><h3>Gestione Radio</h3><input type="file" id="radioFile" accept="audio/*" aria-label="Carica file audio"><button class="btn btn-verde" onclick="uploadRadio()">Carica Audio</button></div><div class="admin-panel"><h3>Gestione Mappa</h3><input type="text" id="markerLat" placeholder="Latitudine" aria-label="Latitudine marker"><input type="text" id="markerLng" placeholder="Longitudine" aria-label="Longitudine marker"><input type="text" id="markerTitle" placeholder="Titolo marker" aria-label="Titolo marker"><button class="btn btn-verde" onclick="addMarker()">Aggiungi Marker</button></div><div class="admin-panel"><h3>Modifica Home</h3><textarea id="homeEdit" rows="5" aria-label="Contenuto home"></textarea><button class="btn btn-verde" onclick="updateContent('home')">Aggiorna Home</button></div><div class="admin-panel"><h3>Modifica Blog</h3><input type="text" id="blogTitle" placeholder="Titolo post" aria-label="Titolo post blog"><textarea id="blogEdit" rows="8" aria-label="Contenuto blog"></textarea><input type="text" id="blogSignature" placeholder="Firma digitale" aria-label="Firma post"><button class="btn btn-verde" onclick="addBlogPost()">Pubblica Post</button></div><div class="admin-panel"><h3>Modifica Statuto</h3><textarea id="statutoEdit" rows="8" aria-label="Contenuto statuto"></textarea><input type="text" id="statutoSignature" placeholder="Firma digitale" aria-label="Firma statuto"><button class="btn btn-verde" onclick="updateContent('statuto')">Aggiorna Statuto</button></div><div class="admin-panel"><h3>Modifica Chi Siamo</h3><textarea id="chisiamoEdit" rows="8" aria-label="Contenuto chi siamo"></textarea><input type="text" id="chisiamoSignature" placeholder="Firma digitale" aria-label="Firma chi siamo"><button class="btn btn-verde" onclick="updateContent('chisiamo')">Aggiorna Chi Siamo</button></div><div class="admin-panel"><h3>Gestione Contatti</h3><input type="text" id="contactName" placeholder="Nome contatto" aria-label="Nome contatto"><input type="text" id="contactInfo" placeholder="Info contatto" aria-label="Info contatto"><button class="btn btn-verde" onclick="addContact()">+ Aggiungi</button></div><div class="admin-panel"><h3>Gestione Galleria</h3><input type="text" id="galleryTitle" placeholder="Titolo" aria-label="Titolo galleria"><textarea id="galleryDesc" rows="3" placeholder="Descrizione" aria-label="Descrizione galleria"></textarea><input type="date" id="galleryDate" aria-label="Data galleria"><input type="file" id="galleryFile" accept="image/*,video/*" multiple aria-label="File galleria"><button class="btn btn-verde" onclick="addGalleryItem()">Aggiungi a Galleria</button></div></div></div><div class="radio-player"><audio id="radioPlayer" controls loop><source id="radioSource" src="" type="audio/mpeg">Il tuo browser non supporta l'audio.</audio></div></div><script>let currentUser=null,isAdmin=!1,map,markers=[];const chatSound=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+/w=="),postSound=new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=");function getData(e,t={}){const n=localStorage.getItem(e);return n?JSON.parse(n):t}function saveData(e,t){localStorage.setItem(e,JSON.stringify(t))}function login(){const e=document.getElementById("loginUsername").value,t=document.getElementById("loginPassword").value;if(!e||!t)return alert("Inserisci username e password");const n=getData("adminCreds",{user:"lamaniera88",pass:"159159"}),a=getData("users",{});e===n.user&&t===n.pass?(currentUser=e,isAdmin=!0,initApp()):a[e]&&a[e]===t?(currentUser=e,isAdmin=!1,initApp()):alert("Credenziali non valide")}function register(){const e=document.getElementById("loginUsername").value,t=document.getElementById("loginPassword").value;if(!e||!t)return alert("Inserisci username e password");const n=getData("adminCreds",{user:"lamaniera88",pass:"159159"});if(e===n.user)return alert("Username non disponibile");const a=getData("users",{});a[e]?(alert("Username giÃ  esistente"),document.getElementById("loginUsername").value=""):(a[e]=t,saveData("users",a),alert("Registrazione completata! Ora puoi accedere."),document.getElementById("loginPassword").value="")}function logout(){currentUser=null,isAdmin=!1,document.getElementById("loginScreen").classList.remove("hidden"),document.getElementById("mainApp").classList.add("hidden"),document.getElementById("loginUsername").value="",document.getElementById("loginPassword").value=""}function initApp(){document.getElementById("loginScreen").classList.add("hidden"),document.getElementById("mainApp").classList.remove("hidden"),document.getElementById("currentUser").textContent=currentUser,isAdmin&&document.getElementById("adminBtn").classList.remove("hidden"),loadContent(),loadChat(),loadContacts(),loadGallery(),initMap(),loadRadio()}function showSection(e){document.querySelectorAll(".section").forEach(e=>e.classList.add("hidden")),document.getElementById(e).classList.remove("hidden")}function loadContent(){const e=getData("content",{});if(e.home&&(document.getElementById("homeContent").innerHTML=e.home),e.blog){let t='<div style="opacity:0;animation:fadeIn 1s forwards">'+e.blog+"</div>";document.getElementById("blogContent").innerHTML=t}e.statuto&&(document.getElementById("statutoContent").innerHTML=e.statuto),e.chisiamo&&(document.getElementById("chisiamoContent").innerHTML=e.chisiamo)}function updateContent(e){if(!isAdmin)return;const t=getData("content",{}),n=document.getElementById(e+"Edit").value;let a=n;if("statuto"===e||"chisiamo"===e){const t=document.getElementById(e+"Signature").value;t&&(a+='<div class="signature">Firmato digitalmente: '+t+"</div>")}t[e]=a,saveData("content",t),loadContent(),showNotification("Contenuto aggiornato!"),playPostSound()}function addBlogPost(){if(!isAdmin)return;const e=document.getElementById("blogTitle").value,t=document.getElementById("blogEdit").value,n=document.getElementById("blogSignature").value;if(!e||!t)return alert("Inserisci titolo e contenuto");const a=getData("content",{}),o=new Date().toLocaleDateString("it-IT");let s='<div class="section" style="opacity:0;animation:fadeIn 1s forwards"><h3 style="color:var(--verde)">'+e+'</h3><p style="color:var(--oro);font-size:0.9em">'+o+"</p><p>"+t+"</p>";n&&(s+='<div class="signature">Firmato digitalmente: '+n+"</div>"),s+="</div>",a.blog=s+(a.blog||""),saveData("content",a),loadContent(),document.getElementById("blogTitle").value="",document.getElementById("blogEdit").value="",document.getElementById("blogSignature").value="",showNotification("Post pubblicato!"),playPostSound()}function changeAdminCreds(){if(!isAdmin)return;const e=document.getElementById("newAdminUser").value,t=document.getElementById("newAdminPass").value;if(!e||!t)return alert("Inserisci nuove credenziali");saveData("adminCreds",{user:e,pass:t}),alert("Credenziali aggiornate!"),document.getElementById("newAdminUser").value="",document.getElementById("newAdminPass").value=""}function loadChat(){const e=getData("chatMessages",[]),t=document.getElementById("chatMessages");t.innerHTML="",e.forEach(e=>{const n=document.createElement("div");n.className="chat-msg"+(e.admin?" admin":""),n.innerHTML="<strong>"+e.user+":</strong> "+e.text+"<br><small>"+e.time+"</small>",t.appendChild(n)}),t.scrollTop=t.scrollHeight}function sendMessage(){const e=document.getElementById("chatInput").value;if(!e)return;const t=getData("chatMessages",[]),n={user:currentUser,text:e,time:new Date().toLocaleString("it-IT"),admin:isAdmin};t.push(n),saveData("chatMessages",t),loadChat(),document.getElementById("chatInput").value="",playChatSound()}function playChatSound(){chatSound.play().catch(e=>console.log("Audio not allowed"))}function playPostSound(){postSound.play().catch(e=>console.log("Audio not allowed"))}function showNotification(e){const t=document.createElement("div");t.className="notification",t.textContent=e,document.body.appendChild(t),setTimeout(()=>t.remove(),3e3)}function loadContacts(){const e=getData("contacts",[]),t=document.getElementById("contattiContent");t.innerHTML="",e.forEach((e,n)=>{const a=document.createElement("div");a.className="contact-item",a.innerHTML="<div><strong>"+e.name+":</strong> "+e.info+"</div>",isAdmin&&(a.innerHTML+='<button class="btn btn-rosso" onclick="removeContact('+n+')">âˆ’</button>'),t.appendChild(a)})}function addContact(){if(!isAdmin)return;const e=document.getElementById("contactName").value,t=document.getElementById("contactInfo").value;if(!e||!t)return alert("Inserisci nome e info");const n=getData("contacts",[]);n.push({name:e,info:t}),saveData("contacts",n),loadContacts(),document.getElementById("contactName").value="",document.getElementById("contactInfo").value="",showNotification("Contatto aggiunto!")}function removeContact(e){if(!isAdmin)return;const t=getData("contacts",[]);t.splice(e,1),saveData("contacts",t),loadContacts(),showNotification("Contatto rimosso!")}function loadGallery(){const e=getData("gallery",[]),t=document.getElementById("galleriaContent");t.innerHTML="";const n={};e.forEach(e=>{const t=new Date(e.date),a=t.toLocaleDateString("it-IT",{weekday:"long"}),o=`${a} - ${e.date}`;n[o]||(n[o]=[]),n[o].push(e)}),Object.keys(n).sort((e,t)=>new Date(n[t][0].date)-new Date(n[e][0].date)).forEach(e=>{const a=document.createElement("div");a.innerHTML='<h3 style="color:var(--verde);margin:20px 0;border-bottom:2px solid var(--oro);padding:10px">'+e+"</h3>",n[e].forEach(e=>{const t=document.createElement("div");t.className="gallery-item",t.style.opacity="0",t.style.animation="fadeIn 1.5s forwards";let n="";e.files.forEach(e=>{n+=e.startsWith("data:image")?'<img src="'+e+'" alt="'+e.title+'">':e.startsWith("data:video")?'<video controls><source src="'+e+'"></video>':""}),t.innerHTML="<h4>"+e.title+"</h4><p>"+e.desc+"</p>"+n,a.appendChild(t)}),t.appendChild(a)})}function addGalleryItem(){if(!isAdmin)return;const e=document.getElementById("galleryTitle").value,t=document.getElementById("galleryDesc").value,n=document.getElementById("galleryDate").value,a=document.getElementById("galleryFile").files;if(!e||!n||0===a.length)return alert("Inserisci tutti i campi");const o=[];let s=0;const l=()=>{if(s===a.length){const a=getData("gallery",[]);a.push({title:e,desc:t,date:n,files:o}),saveData("gallery",a),loadGallery(),document.getElementById("galleryTitle").value="",document.getElementById("galleryDesc").value="",document.getElementById("galleryDate").value="",document.getElementById("galleryFile").value="",showNotification("Elemento aggiunto alla galleria!"),playPostSound()}};for(let e=0;e<a.length;e++){const t=new FileReader;t.onload=function(e){o.push(e.target.result),s++,l()},t.readAsDataURL(a[e])}}function initMap(){const e=getData("markers",[{lat:41.9028,lng:12.4964,title:"Roma - Sede Centrale"}]);map=L.map("map").setView([41.9028,12.4964],6),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19}).addTo(map),e.forEach(e=>addMarkerToMap(e))}function addMarkerToMap(e){const t=L.marker([parseFloat(e.lat),parseFloat(e.lng)]).addTo(map).bindPopup("<b>"+e.title+"</b>");markers.push(t)}function addMarker(){if(!isAdmin)return;const e=document.getElementById("markerLat").value,t=document.getElementById("markerLng").value,n=document.getElementById("markerTitle").value;if(!e||!t||!n)return alert("Inserisci tutti i dati del marker");const a={lat:e,lng:t,title:n},o=getData("markers",[]);o.push(a),saveData("markers",o),addMarkerToMap(a),map.setView([parseFloat(e),parseFloat(t)],10),document.getElementById("markerLat").value="",document.getElementById("markerLng").value="",document.getElementById("markerTitle").value="",showNotification("Marker aggiunto!")}function uploadRadio(){if(!isAdmin)return;const e=document.getElementById("radioFile").files[0];if(!e)return alert("Seleziona un file audio");const t=new FileReader;t.onload=function(e){saveData("radioUrl",e.target.result),loadRadio(),showNotification("Radio aggiornata!")},t.readAsDataURL(e)}function loadRadio(){const e=getData("radioUrl","");e&&(document.getElementById("radioSource").src=e,document.getElementById("radioPlayer").load())}const style=document.createElement("style");style.textContent="@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}",document.head.appendChild(style),document.addEventListener("keypress",e=>{"Enter"===e.key&&(document.getElementById("loginScreen").classList.contains("hidden")?document.getElementById("chat").classList.contains("hidden")||sendMessage():login())}),window.addEventListener("load",()=>{document.getElementById("mainApp").classList.contains("hidden")||initMap()});</script><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"><script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script></body></html>